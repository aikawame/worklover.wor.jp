(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{169:function(t,e,n){},170:function(t,e,n){},191:function(t,e,n){"use strict";n(169)},192:function(t,e,n){"use strict";n(170)},195:function(t,e,n){"use strict";n.r(e);n(19);var l=n(173),o=n.n(l),c={props:["name","email","subject","body","grcres"],data:function(){return{notification:"以上の内容を送信してよろしいですか？",status:"init"}},computed:{nameForView:function(){return this.name||"（匿名）"},emailForView:function(){return this.email||"（空欄）"},notificationClass:function(){switch(this.status){case"done":return"is-success";case"error":return"is-danger";default:return""}}},methods:{sendEmail:function(){var t=this;this.status="doing",o.a.post("https://iq24yooluk.execute-api.ap-northeast-1.amazonaws.com/api/",{name:this.nameForView,email:this.email,subject:this.subject,body:this.body,grcres:this.grcres}).then((function(){t.status="done",t.notification="送信が完了しました。"})).catch((function(){t.status="error",t.notification="送信に失敗しました。暫くしてからもう一度お試しください。"}))}}},r=(n(191),n(31)),d={components:{InquiryConfirm:Object(r.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"modal"},[n("div",{staticClass:"modal-background"}),t._v(" "),n("div",{staticClass:"modal-card"},[n("header",{staticClass:"modal-card-head"},[n("p",{staticClass:"modal-card-title"},[t._v("お問い合わせ送信")]),t._v(" "),n("button",{staticClass:"delete",attrs:{"aria-label":"close"},on:{click:function(e){return t.$emit("close")}}})]),t._v(" "),n("section",{staticClass:"modal-card-body"},[n("dl",[t._m(0),t._v(" "),n("dd",{staticClass:"preamble"},[t._v("\n          "+t._s(t.nameForView)+"\n        ")]),t._v(" "),t._m(1),t._v(" "),n("dd",{staticClass:"preamble"},[t._v("\n          "+t._s(t.emailForView)+"\n        ")]),t._v(" "),t._m(2),t._v(" "),n("dd",{staticClass:"preamble"},[n("span",{staticClass:"pre"},[t._v(t._s(t.body))])])]),t._v(" "),t.notification?n("p",{staticClass:"notification",class:t.notificationClass},[t._v("\n        "+t._s(t.notification)+"\n      ")]):t._e()]),t._v(" "),n("footer",{staticClass:"modal-card-foot"},["init"===t.status?n("button",{staticClass:"button is-info",on:{click:t.sendEmail}},[t._v("送信")]):n("button",{staticClass:"button is-info",class:{"is-loading":"doing"===t.status},on:{click:function(e){return t.$emit("done")}}},[t._v("閉じる")]),t._v(" "),n("button",{ref:"cancel-button",staticClass:"button",on:{click:function(e){return t.$emit("close")}}},[t._v("キャンセル")])])])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dt",{staticClass:"is-normal"},[n("label",{staticClass:"label"},[t._v("お名前")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dt",{staticClass:"is-normal"},[n("label",{staticClass:"label"},[t._v("メールアドレス")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dt",{staticClass:"is-normal"},[n("label",{staticClass:"label"},[t._v("内容")])])}],!1,null,"6d202211",null).exports},data:function(){return{name:null,email:null,subject:"【ワクラバ】お問い合わせ",body:null,grcres:null,isValidating:!1,isModalActive:!1}},computed:{isValidEmail:function(){return!this.isValidating||!this.email||/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(this.email)},isValidBody:function(){return!this.isValidating||this.body},isValidGrcres:function(){return!this.isValidating||this.grcres},isValidForm:function(){return this.isValidEmail&&this.isValidBody&&this.isValidGrcres}},methods:{initForm:function(){this.name=null,this.email=null,this.body=null,this.isValidating=!1,this.isModalActive=!1},checkForm:function(t){this.isValidating=!0,this.grcres=grecaptcha.getResponse(),this.isValidForm&&this.toggleModal(),t.preventDefault()},toggleModal:function(){this.isModalActive=!this.isModalActive}}},m=(n(192),Object(r.a)(d,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("article",{staticClass:"page",attrs:{id:"inquiry"}},[t._m(0),t._v(" "),n("section",{staticClass:"contents"},[n("section",{staticClass:"form container"},[n("form",{staticClass:"box",on:{submit:t.checkForm}},[n("p",{staticClass:"preamble"},[t._v("\n          ワクラバへのご意見・ご質問はこちらからお気軽にどうぞ。\n        ")]),t._v(" "),n("dl",[t._m(1),t._v(" "),n("dd",{staticClass:"preamble"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"input",attrs:{type:"text",placeholder:"任意でご入力ください"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),t._m(2),t._v(" "),n("dd",{staticClass:"preamble"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],staticClass:"input",class:{"is-danger":!t.isValidEmail},attrs:{type:"text",placeholder:"返信をご希望の場合はご入力ください"},domProps:{value:t.email},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),t._m(3),t._v(" "),n("dd",{staticClass:"preamble"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.body,expression:"body"}],staticClass:"textarea",class:{"is-danger":!t.isValidBody},attrs:{placeholder:"お問い合わせ内容をご入力ください"},domProps:{value:t.body},on:{input:function(e){e.target.composing||(t.body=e.target.value)}}})])]),t._v(" "),n("script",{attrs:{src:"https://www.google.com/recaptcha/api.js",async:"",defer:""}}),t._v(" "),n("div",{staticClass:"g-recaptcha preamble",class:{"is-danger":!t.isValidGrcres},attrs:{"data-sitekey":"6Lfhe3AUAAAAAMvWuLYE-a5EotqHSHsv7xbs6ce7"}}),t._v(" "),n("input",{staticClass:"button is-info is-fullwidth",attrs:{type:"submit",value:"確認"}})])])]),t._v(" "),t.isModalActive?n("inquiry-confirm",{attrs:{name:t.name,email:t.email,subject:t.subject,body:t.body,grcres:t.grcres},on:{close:t.toggleModal,done:t.initForm}}):t._e()],1)}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",{staticClass:"hero is-primary"},[n("div",{staticClass:"hero-body has-text-centered"},[n("h1",{staticClass:"title has-text-weight-normal"},[n("span",{staticClass:"has-text-weight-normal"},[t._v("お問い合わせ")])])])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dt",[n("label",{staticClass:"label"},[t._v("お名前")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dt",[n("label",{staticClass:"label"},[t._v("メールアドレス")])])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("dt",[n("label",{staticClass:"label"},[t._v("内容")])])}],!1,null,"28300bf5",null));e.default=m.exports}}]);